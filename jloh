#!/usr/bin/env python3

script_info = """
###
Author: Matteo Schiavinato
Last change: 03/11/2022
Based on the work of: Leszek Pryszcz (2014) and Veronica Mixao (2019)
###
"""


import sys
import os
import os.path

# change this if you want a different one
interpreter="python3"

# help section
if len(sys.argv) == 1:
    sys.argv.append("--help")

if (sys.argv[1] in ["--help", "-h", "-help", "help", "getopt", "usage"]):
    sys.stderr.write("""


JLOH, version 0.18.0

--------------------------------------------------------------------------------
by Matteo Schiavinato
Barcelona Supercomputing Center
largely based on:
Pryszcz et al., 2014    https://doi.org/10.1093/gbe/evu082
Mixao et al., 2019      https://doi.org/10.3389/fgene.2019.00383
--------------------------------------------------------------------------------

Commands:

 -- Extraction
    extract             Extract LOH blocks from VCF, BAM and FASTA files
    filter              Filter extracted LOH blocks
    intersect           Perform intersection/removal operations with output files
    chimeric            Extract genes featuring LOH blocks from different haplotypes
    g2g                 Align two genomes to find regions that should carry SNPs

 -- Calculations
    stats               Estimate heterozygous and homozygous SNP statistics
    junctions           Calculate number of block-to-block junctions over the genome

 -- Simulations
    sim                 Simulate a divergent copy of a genome/protein sequence(s)

""")
else:
    args = " ".join(sys.argv[1:])
    PROGRAMDIR = os.path.dirname(os.path.realpath(__file__))
    os.system(f"{interpreter} {PROGRAMDIR}/src/{args}")

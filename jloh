#!/usr/bin/env python3

script_info = """
###
Author: Matteo Schiavinato
Last change: 13/07/2022
Based on the work of: Leszek Pryszcz (2014) and Veronica Mixao (2019)
###
"""


import sys
import os
import os.path

# change this if you want a different one
interpreter="python3"

# help section
if len(sys.argv) == 1:
	sys.argv.append("--help")

if (sys.argv[1] in ["--help", "-h", "-help", "help", "getopt", "usage"]):
	sys.stderr.write("""


JLOH, version 0.17.0

--------------------------------------------------------------------------------
by Matteo Schiavinato
Barcelona Supercomputing Center
largely based on:
Pryszcz et al., 2014    https://doi.org/10.1093/gbe/evu082
Mixao et al., 2019      https://doi.org/10.3389/fgene.2019.00383
--------------------------------------------------------------------------------

Commands:

 -- Extraction
    g2g                 Align genome to genome to find regions to mask
    extract             Extract LOH blocks from VCF, BAM and FASTA files
    filter              Filter extracted LOH blocks
    intersect           Perform intersection/removal operations with output files

 -- Calculations
    density             Estimate heterozygous and homozygous SNP densities

 -- Simulations
    sim                 Simulate a divergent copy of a genome/protein sequence(s)

""")
else:
	args = " ".join(sys.argv[1:])
	PROGRAMDIR = os.path.dirname(os.path.realpath(__file__))
	os.system(f"{interpreter} {PROGRAMDIR}/src/{args}")
